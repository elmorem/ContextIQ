# ==================== Database Configuration ====================
# Complete URL (takes precedence)
DATABASE_URL=postgresql+asyncpg://contextiq:contextiq_dev_password@localhost:5432/contextiq

# Or individual components
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=contextiq
DATABASE_USER=contextiq
DATABASE_PASSWORD=contextiq_dev_password

# Connection pool settings
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30.0
DATABASE_POOL_RECYCLE=3600
DATABASE_POOL_PRE_PING=true

# Connection timeouts
DATABASE_CONNECT_TIMEOUT=10
DATABASE_COMMAND_TIMEOUT=60

# SSL settings (optional)
DATABASE_SSL_MODE=prefer

# ==================== Redis Configuration ====================
# Complete URL (takes precedence)
REDIS_URL=redis://localhost:6379/0

# Or individual components
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Connection pool settings
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5.0
REDIS_SOCKET_CONNECT_TIMEOUT=5.0
REDIS_SOCKET_KEEPALIVE=true

# Cache TTLs (seconds)
REDIS_TTL_SESSION=86400
REDIS_TTL_MEMORY=7200
REDIS_TTL_JOB=3600

# ==================== Qdrant Configuration ====================
QDRANT_URL=http://localhost:6333
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_TIMEOUT=60
QDRANT_PREFER_GRPC=false

# ==================== RabbitMQ Configuration ====================
# Complete URL (takes precedence)
RABBITMQ_URL=amqp://contextiq:contextiq_dev_password@localhost:5672/

# Or individual components
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=contextiq
RABBITMQ_PASSWORD=contextiq_dev_password
RABBITMQ_VHOST=/

# Connection behavior
RABBITMQ_HEARTBEAT=60
RABBITMQ_CONNECTION_ATTEMPTS=3
RABBITMQ_RETRY_DELAY=2.0

# Dead letter configuration
RABBITMQ_ENABLE_DEAD_LETTER=true
RABBITMQ_DEAD_LETTER_EXCHANGE=contextiq.dlx

# ==================== LLM Provider API Keys ====================
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# ==================== Authentication Configuration ====================
# JWT Configuration
# REQUIRED: Secret key for signing JWT tokens
# Generate with: python scripts/generate_auth_config.py
AUTH_JWT_SECRET_KEY=your-super-secret-key-change-this-in-production

# JWT algorithm (default: HS256)
AUTH_JWT_ALGORITHM=HS256

# JWT token expiration in minutes (default: 60)
AUTH_JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60

# JWT issuer (default: contextiq)
AUTH_JWT_ISSUER=contextiq

# API Key Configuration
# Enable API key authentication (default: true)
AUTH_API_KEY_ENABLED=true

# Authentication Enforcement
# Require authentication for all endpoints (default: false for dev, true for prod)
# Set to false to disable authentication globally
AUTH_REQUIRE_AUTH=false

# Comma-separated list of paths exempt from authentication
AUTH_REQUIRE_AUTH_EXCEPTIONS=/health,/health/live,/health/ready,/health/detailed,/health/services,/docs,/redoc,/openapi.json,/metrics

# ==================== Service Configuration ====================
LOG_LEVEL=INFO
ENVIRONMENT=development

# ==================== Worker Configuration ====================
WORKER_CONCURRENCY=5
WORKER_PREFETCH_COUNT=10
